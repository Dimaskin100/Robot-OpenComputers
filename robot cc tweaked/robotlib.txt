local robotlib = {}

local robots = {nil}
local cmds = {"u", "d", "r", "l", "f"}

function connect(robots1)
for k, v in pairs(robots1) do
if tonumber(v) == nil then return false end
end

local answers = {}

for k, v in pairs(robots1) do
rednet.send(v, "connect")

local snr, msg, dte = rednet.receive() table.insert(answers, msg)

if msg == true then table.insert(robots, snr) end
end
return answers
end

function send(command)
if robots[1] == nil then
return false
else

local answers = {}
local cmd = {}
for word in string.gmatch(msg, "%a+") do table.insert(cmd, word) end

local proverka = false
for k, v in pairs(cmds) do if cmd[1] == v then proverka = true break end
if proverka == false then return false end

for k, v in pairs(robots) do rednet.send(v, command) end
for k, v in pairs(robots) do local snr, msg, dte = rednet.receive() table.insert(answers, msg) end

return answers

end
end

function disconnect()
if robots[1] == nil then
return false
else

for k, v in pairs(robots) do rednet.send(v, "disconnect") end
robots = {nil}

return true
end
end

return robotlib